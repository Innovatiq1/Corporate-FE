<section class="content" *ngIf="isAdmin">
    <div class="content-block">
      <div class="block-header" *ngFor="let breadscrum of breadscrums">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
        </app-breadcrumb>
      </div>
  
  <mat-tab-group>
    <mat-tab>
      <ng-template mat-tab-label>
        <!-- <mat-icon class="example-tab-icon msr-2">face</mat-icon> -->
        Users Analytics
      </ng-template>
      <div class="row mt-5">
        <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card card-statistic-2">
              <div class="clearfix">
                <div class="card-icon-only shadow-primary float-start">
                  <img src="assets/images/banner/img2.png" alt="">
                </div>
                <div class="card-right">
                  <div>
                    <h5 class="float-end">Total Officers</h5>
                  </div>
                  <div class="col-green">
                    <h3 class="font-weight-bold float-end mb-0">{{officersCount}}</h3>
                  </div>
                </div>
              </div>
              <div class="card-content msl-4 mb-3">
                <p class="m-b-0 d-flex"><i class="material-icons col-green psr-2">trending_up</i> 05% Higher Then Last
                  Month
                </p>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12">
            <div class="card card-statistic-2">
              <div class="clearfix">
                <div class="card-icon-only shadow-primary float-start">
                  <img src="assets/images/banner/img3.png" alt="">
                </div>
                <div class="card-right">
                  <div>
                    <h5 class="float-end">Total Managers</h5>
                  </div>
                  <div class="col-green">
                    <h3 class="font-weight-bold float-end mb-0">{{count?.instructors}}</h3>
                  </div>
                </div>
              </div>
              <div class="card-content msl-4 mb-3">
                <p class="m-b-0 d-flex"><i class="material-icons col-green psr-2">trending_up</i> 08% Higher Then Last
                  Month
                </p>
              </div>
            </div>
          </div>
        <div class="col-lg-3 col-md-3 col-sm-12">
          <div class="card card-statistic-2">
            <div class="clearfix">
              <div class="card-icon-only shadow-primary float-start">
                <img src="assets/images/banner/New Students.jpg" alt="" style="margin-left: -21px;">
  
              </div>
              <div class="card-right">
                <div>
                  <h5 class="float-end" style="padding-top: 100px;">Total Staff</h5>
                </div>
                <div class="col-green">
                  <h3 class="font-weight-bold float-end mb-0">{{count?.students}}</h3>
                </div>
              </div>
            </div>
            <div class="card-content msl-4 mb-3">
              <p class="m-b-0 d-flex"><i class="material-icons col-green psr-2">trending_up</i> 10% Higher Then Last
                Month
              </p>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12">
          <div class="card card-statistic-2">
            <div class="clearfix">
              <div class="card-icon-only shadow-primary float-start">
                <img src="assets/images/banner/online-course.png" alt="">
              </div>
              <div class="card-right">
                <div>
                  <h5 class="float-end" style="margin-top: 100px;">All Courses</h5>
                </div>
                <div class="col-green">
                  <h3 class="font-weight-bold float-end mb-0">{{count?.courses}}</h3>
                </div>
              </div>
            </div>
            <div class="card-content msl-4 mb-3">
              <p class="m-b-0 d-flex"><i class="material-icons col-orange psr-2">trending_down</i> 07% Less Then Last
                Year
              </p>
            </div>
          </div>
        </div>
       
  
      </div>
      <!-- #END# Widgets -->
      <div class="row">
        
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
          <div class="card" style="border-radius: 31px;">
            <div class="header mt-3">
              <h2>Users</h2>
            </div>
            <div class="float-start ms-3 me-3">
              <h5>{{count?.users}} Users(All) <span class="text-muted font-12"></span></h5>
            </div>
            <div class="body" *ngIf="isUsersPie">
              <apx-chart [series]="polarChartOptions.series2!" [chart]="polarChartOptions.chart!"
                [labels]="polarChartOptions.labels!" [title]="polarChartOptions.title!" [theme]="polarChartOptions.theme!"
                [fill]="polarChartOptions.fill!" [yaxis]="polarChartOptions.yaxis!" [stroke]="polarChartOptions.stroke!"
                [legend]="polarChartOptions.legend!" [plotOptions]="polarChartOptions.plotOptions!"
                [colors]="polarChartOptions.colors!"></apx-chart>
            </div>
            <div class="body" *ngIf="isUsersLine">
              <apx-chart [series]="usersLineChartOptions.series!" [chart]="usersLineChartOptions.chart!"
                [xaxis]="usersLineChartOptions.xaxis!" [stroke]="usersLineChartOptions.stroke!"
                [colors]="usersLineChartOptions.colors!" [dataLabels]="usersLineChartOptions.dataLabels!"
                [legend]="usersLineChartOptions.legend!" [markers]="usersLineChartOptions.markers!"
                [grid]="usersLineChartOptions.grid!" [yaxis]="usersLineChartOptions.yaxis!"
                [tooltip]="usersLineChartOptions.tooltip!" [title]="usersLineChartOptions.title!">
              </apx-chart>
  
            </div>
            <div class="body" *ngIf="isUsersBar">
              <apx-chart [series]="usersBarChartOptions.series!" [chart]="usersBarChartOptions.chart!"
                [xaxis]="usersBarChartOptions.xaxis!" [stroke]="usersBarChartOptions.stroke!"
                [colors]="usersBarChartOptions.colors!" [dataLabels]="usersBarChartOptions.dataLabels!"
                [legend]="usersBarChartOptions.legend!" [markers]="usersBarChartOptions.markers!"
                [grid]="usersBarChartOptions.grid!" [yaxis]="usersBarChartOptions.yaxis!"
                [tooltip]="usersBarChartOptions.tooltip!" [title]="usersBarChartOptions.title!">
              </apx-chart>
            </div>
          </div>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <div class="card" style="border-radius: 31px;">
              <div class="header mt-3">
                <h2>Officers List</h2>
    
              </div>
              <div class="tableBody">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Officer Name</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let instructor of officers" style="cursor: pointer;">
                        <td class="table-img">
                          <img src="{{instructor.avatar || 'assets/profile.png'}}" alt="">
                        </td>
                        <td [routerLink]="[
                        '/admin/user-profile/all-managers',
                        instructor.id
                      ]">
                          <div class="media-title"> {{instructor?.name | titlecase}}
                            </div>
                          <div class="text-job font-11">({{instructor?.type}})</div>
                        </td>
                        <td [routerLink]="[
                        '/admin/user-profile/all-managers',
                        instructor.id
                      ]">
                          <div [class]="instructor?.Active ? 'badge badge-solid-green' : 'badge badge-solid-red'">
                            {{instructor?.Active == true?"Active":"Inactive"}}</div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

      </div>
      <div class="row">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="card" style="border-radius: 31px;">
          <div class="header mt-3">
            <h2>
              Staff Survey</h2>
          </div>
          <div class="body" *ngIf="isArea">
            <apx-chart [series]="areaChartOptions.series!" [chart]="areaChartOptions.chart!"
              [xaxis]="areaChartOptions.xaxis!" [yaxis]="areaChartOptions.yaxis!" [colors]="areaChartOptions.colors!"
              [stroke]="areaChartOptions.stroke!" [legend]="areaChartOptions.legend!" [grid]="areaChartOptions.grid!"
              [tooltip]="areaChartOptions.tooltip!" [dataLabels]="areaChartOptions.dataLabels!"></apx-chart>
          </div>
          <div class="body" *ngIf="isSurveyBar">
            <apx-chart [series]="surveyBarChartOptions.series!" [chart]="surveyBarChartOptions.chart!"
              [xaxis]="surveyBarChartOptions.xaxis!" [yaxis]="surveyBarChartOptions.yaxis!"
              [colors]="surveyBarChartOptions.colors!" [stroke]="surveyBarChartOptions.stroke!"
              [legend]="surveyBarChartOptions.legend!" [grid]="surveyBarChartOptions.grid!"
              [tooltip]="surveyBarChartOptions.tooltip!" [dataLabels]="surveyBarChartOptions.dataLabels!"></apx-chart>
          </div>
          <div class="body" *ngIf="isSurveyPie">
            <apx-chart [series]="surveyPieChartOptions.series!" [chart]="surveyPieChartOptions.chart!"
              [labels]="surveyPieChartOptions.labels!" [legend]="surveyPieChartOptions.legend!"
              [colors]="surveyPieChartOptions.colors!" [responsive]="surveyPieChartOptions.responsive!"></apx-chart>
          </div>

        </div>
      </div>
  
        
      </div>
    
  
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <!-- <mat-icon class="example-tab-icon msr-2">face</mat-icon> -->
        Transaction Analytics
      </ng-template>
      <app-dashboard2></app-dashboard2>
    </mat-tab>
    
    <mat-tab>
      <ng-template mat-tab-label>
        <!-- <mat-icon class="example-tab-icon msr-2">face</mat-icon> -->
        Budget
      </ng-template>
      <app-etms-dashboard></app-etms-dashboard>
    </mat-tab>
   
  </mat-tab-group>
  
    </div>
  </section>
  
  
  
  <section class="content" *ngIf="isStudentDB">
    <div class="content-block">
      <div class="block-header" *ngFor="let breadscrum of breadscrums">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
        </app-breadcrumb>
      </div>
      <!-- Widgets -->
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-14 col-sm-14">
          <div class="card">
            <div class="body">
              <div class="row align-items-center">
                <div class="col-md-12 mb-0">
                  <h4>
                    <div class="weight-600 col-pink pt-1">Good Job, {{studentName}}. Keep Going!! </div>
                  </h4>
                  <div class="recent-report__chart" *ngIf="isStudentPie">
                    <apx-chart [series]="studentPieChartOptions.series!" [chart]="studentPieChartOptions.chart!"
                      [dataLabels]="studentPieChartOptions.dataLabels!" [labels]="studentPieChartOptions.labels!"
                      [legend]="studentPieChartOptions.legend!" [fill]="studentPieChartOptions.fill!"
                      [responsive]="studentPieChartOptions.responsive!">
                    </apx-chart>
                  </div>
                  <div class="recent-report__chart" *ngIf="isStudentBar">
                    <apx-chart [series]="studentBarChartOptions.series!" [chart]="studentBarChartOptions.chart!"
                      [dataLabels]="studentBarChartOptions.dataLabels!" [labels]="studentBarChartOptions.labels!"
                      [legend]="studentBarChartOptions.legend!" [fill]="studentBarChartOptions.fill!"
                      [responsive]="studentBarChartOptions.responsive!">
                    </apx-chart>
                  </div>
                  <div class="recent-report__chart" *ngIf="isStudentLine">
                    <apx-chart [series]="studentLineChartOptions.series!" [chart]="studentLineChartOptions.chart!"
                      [dataLabels]="studentLineChartOptions.dataLabels!" [labels]="studentLineChartOptions.labels!"
                      [legend]="studentLineChartOptions.legend!" [fill]="studentLineChartOptions.fill!"
                      [responsive]="studentLineChartOptions.responsive!">
                    </apx-chart>
                  </div>
                </div>
  
              </div>
            </div>
          </div>
        </div>
  
      </div>
  
  
  
      <!-- #END# Widgets -->
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-14 col-sm-14">
          <div class="card">
            <div class="header">
              <h2>Latest Enrolled Courses</h2>
            </div>
            <div class="tableBody">
              <ng-scrollbar style="height: 300px" visibility="hover">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Course</th>
                        <th>Duration</th>
                        <th>End Date</th>
                        <th>Completed</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let course of studentApprovedClasses ">
                        <td>{{course?.classId?.courseId?.title}}</td>
                        <td>{{course?.classId?.courseId?.training_hours}} Days</td>
                        <td>{{course?.classId?.sessions[0]?.sessionEndDate | date}}
                        </td>
                        <td
                          [ngClass]="{'red-text': course?.playbackTime?.toFixed(2) < 50, 'green-text': course?.playbackTime?.toFixed(2) >= 50}">
                          {{course?.playbackTime?.toFixed(2) || 0}}%
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </ng-scrollbar>
            </div>
          </div>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-14 col-sm-14">
          <div class="card">
            <div class="header">
              <h2>Latest Enrolled Programs</h2>
            </div>
            <div class="tableBody">
              <ng-scrollbar style="height: 300px" visibility="hover">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Program</th>
                        <th>Duration</th>
                        <th>End Date</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let program of studentApprovedPrograms ">
                        <td>{{program?.classId?.courseId?.title }}</td>
                        <td>{{program?.classId?.courseId?.duration}} Days</td>
                        <td>{{program?.classId?.sessions[0]?.sessionEndDate | date}}
                      </tr>
                    </tbody>
                  </table>
                </div>
              </ng-scrollbar>
            </div>
          </div>
        </div>
  
  
      </div>
      <div class="row clearfix">
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
          <div class="card">
            <div class="header">
              <h2>Announcement Board</h2>
            </div>
            <div class="body">
              <ng-scrollbar style="height: 350px" visibility="hover">
                <div class="recent-comment">
                  <div *ngFor="let announcement of announcements.reverse()" class="notice-board">
                    <div class="notice-body">
                      <h5 class="notice-heading col-green">{{announcement?.announcementBy?.name}}</h5>
                      <p [innerHTML]="announcement?.details | truncate:150"></p>
                      <small class="text-muted float-end">{{announcement?.createdAt | date}}</small>
                    </div>
                  </div>
                </div>
              </ng-scrollbar>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
          <div class="card">
            <div class="header">
              <h2>Reschedule list</h2>
            </div>
            <div class="tableBody">
              <ng-scrollbar style="height: 370px" visibility="hover">
                <div class="table-responsive">
                  <table class="table">
                    <thead>
                      <tr>
                        <th>Class</th>
                        <th>Apply Date</th>
                        <th>From Date</th>
                        <th>To Date</th>
                        <th>Reason</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let leave of approvedLeaves">
                        <td>{{leave?.className | titlecase}}</td>
                        <td>{{leave?.applyDate | date}}</td>
                        <td>{{leave?.fromDate | date}}</td>
                        <td>{{leave?.toDate | date}}</td>
                        <td>{{leave?.reason | titlecase}}</td>
                        <td><span class="badge badge-solid-green">{{leave?.status | titlecase}}</span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </ng-scrollbar>
  
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-xl-6 col-lg-6 col-md-14 col-sm-14">
          <div class="card">
            <div class="header">
              <h2>
                Upcoming Course Classes
              </h2>
            </div>
            <div class="card-body">
              <ng-scrollbar style="height: 335px" visibility="hover">
                <ul class="list-unstyled user-progress list-unstyled-border list-unstyled-noborder">
                  <li *ngFor="let upcomingclass of upcomingCourseClasses" class="lecture-list">
                    <div class="set-flex">
                      <div class="media-title font-16">{{upcomingclass?.classId?.courseName}}</div>
                      <div class="text-job text-muted mb-0">{{upcomingclass?.classId?.courseId?.courseCode}}</div>
                    </div>
                    <div class="ms-auto">
                      <div class="media-title font-16">{{upcomingclass?.classId?.sessions[0]?.sessionStartDate | date}}
                      </div>
                      <!-- <div class="text-job text-muted mb-0">09:00-10:00</div> -->
                    </div>
                  </li>
                </ul>
              </ng-scrollbar>
            </div>
          </div>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-14 col-sm-14">
          <div class="card">
            <div class="header">
              <h2>
                Upcoming Program Classes
              </h2>
            </div>
            <div class="card-body">
              <ng-scrollbar style="height: 335px" visibility="hover">
                <ul class="list-unstyled user-progress list-unstyled-border list-unstyled-noborder">
                  <li *ngFor="let upcomingclass of upcomingProgramClasses" class="lecture-list">
                    <div class="set-flex">
                      <div class="media-title font-16">{{upcomingclass?.classId?.courseId?.title}}</div>
                      <div class="text-job text-muted mb-0">{{upcomingclass?.classId?.courseId?.courseCode}}</div>
                    </div>
                    <div class="ms-auto">
                      <div class="media-title font-16">{{upcomingclass?.classId?.sessions[0]?.sessionStartDate | date}}
                      </div>
                      <!-- <div class="text-job text-muted mb-0">09:00-10:00</div> -->
                    </div>
                  </li>
                </ul>
              </ng-scrollbar>
            </div>
          </div>
        </div>
      </div>
  
    </div>
  </section>
  
  <section class="content" *ngIf="isInstructorDB">
    <div class="content-block">
      <div class="block-header" *ngFor="let breadscrum of breadscrums">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="breadscrum.title" [items]="breadscrum.items" [active_item]="breadscrum.active">
        </app-breadcrumb>
      </div>
      <div class="row mt-5">
        <div class="col-lg-4 col-md-4 col-sm-12">
          <div class="card card-statistic-3">
            <div class="clearfix">
              <div class="card-icon-only shadow-primary float-start">
                <img src="assets/images/banner/New Students.jpg" alt="" style="margin-left: -21px;">
  
              </div>
              <div class="card-right">
                <div>
                  <h5 class="float-end">Total Staff</h5>
                </div>
                <div class="col-green">
                  <h3 class="font-weight-bold float-end mb-0">{{count?.students}}</h3>
                </div>
              </div>
            </div>
            <div class="card-content msl-4 mb-3">
              <p class="m-b-0 d-flex"><i class="material-icons col-green psr-2">trending_up</i> 10% Higher Then Last Month
              </p>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12">
          <div class="card card-statistic-3">
            <div class="clearfix">
              <div class="card-icon-only shadow-primary float-start">
                <img src="assets/images/banner/online-course.png" alt="">
              </div>
              <div class="card-right">
                <div>
                  <h5 class="float-end">Course Classes</h5>
                </div>
                <div class="col-green">
                  <h3 class="font-weight-bold float-end mb-0">{{docs}}</h3>
                </div>
              </div>
            </div>
            <div class="card-content msl-4 mb-3">
              <p class="m-b-0 d-flex"><i class="material-icons col-orange psr-2">trending_down</i> 07% Less Then Last
                Year
              </p>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12">
          <div class="card card-statistic-3">
            <div class="clearfix">
              <div class="card-icon-only shadow-primary float-start">
                <img src="assets/images/banner/img2.png" alt="">
              </div>
              <div class="card-right">
                <div>
                  <h5 class="float-end">Program Classes</h5>
                </div>
                <div class="col-green">
                  <h3 class="font-weight-bold float-end mb-0">{{totalDocs}}</h3>
                </div>
              </div>
            </div>
            <div class="card-content msl-4 mb-3">
              <p class="m-b-0 d-flex"><i class="material-icons col-green psr-2">trending_up</i> 05% Higher Then Last Month
              </p>
            </div>
          </div>
        </div>
  
  
      </div>
  
  
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="card" style="border-radius: 31px;">
          <div class="header mt-3">
            <h2>Program Classes List</h2>
  
          </div>
          <div class="tableBody">
            <div class="table-responsive">
              <table class="table table-hover ">
                <thead>
                  <tr>
                    <!-- <th>#</th> -->
                    <th>Program Name</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status </th>
                    <!-- <th>Actions </th> -->
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let class of programClassList " style="cursor: pointer;"
                    [routerLink]="['/admin/courses/view-class/',class.id]">
                    <!-- <td class="table-img">
                        <img src="{{class?.courseId?.image_link}}" alt="course">
                      </td> -->
                    <td>{{class?.programName | truncate:10}}</td>
                    <td> {{class?.sessions[0]?.sessionStartDate | date}} </td>
                    <td> {{class?.sessions[0]?.sessionEndDate | date}}</td>
                    <td>
                      <div class="badge col-green">{{class?.status == 'open'?'Active':'Inactive'}}</div>
                    </td>
  
                  </tr>
  
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="card" style="border-radius: 31px;">
          <div class="header mt-3">
            <h2>Course Classes List</h2>
  
          </div>
          <div class="tableBody">
            <div class="table-responsive">
              <table class="table table-hover ">
                <thead>
                  <tr>
                    <!-- <th>#</th> -->
                    <th>Course Name</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status </th>
                    <!-- <th>Actions </th> -->
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let class of classList " style="cursor: pointer;"
                    [routerLink]="['/admin/courses/view-class/',class.id]">
                    <!-- <td class="table-img">
                        <img src="{{class?.courseId?.image_link}}" alt="course">
                      </td> -->
                    <td>{{class?.courseName | truncate:10}}</td>
                    <td> {{class?.sessions[0]?.sessionStartDate | date}} </td>
                    <td> {{class?.sessions[0]?.sessionEndDate | date}}</td>
                    <td>
                      <div class="badge col-green">{{class?.status == 'open'?'Active':'Inactive'}}</div>
                    </td>
  
                  </tr>
  
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
  
    </div>
  </section>
  
  
  <app-training-administrator *ngIf="isTADB"></app-training-administrator>
  <app-supervisor-dashboard *ngIf="issupervisorDB"></app-supervisor-dashboard>
  <app-pm-dashboard *ngIf="isPCDB"></app-pm-dashboard>
  <app-training-coordinator-db *ngIf="isTCDB"></app-training-coordinator-db>
  <app-cm-dashboard *ngIf="isCMDB"></app-cm-dashboard>
  <app-hod-dashboard *ngIf="isHodDB"></app-hod-dashboard>