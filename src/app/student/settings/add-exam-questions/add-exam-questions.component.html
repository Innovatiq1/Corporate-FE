<div class="row clearfix">
  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
    <div class="card mt-4">
      <div class="table-container">
        <form [formGroup]="questionFormTab2">
          <div class="container">
            <div class="name-container">
              <h6>Name <span class="mandatory">&nbsp;*</span></h6>
              <mat-form-field appearance="outline">
                <input class="form-control" matInput type="text" formControlName="name" placeholder="Name" required />
              </mat-form-field>
            </div>
            <div class="time-container">
              <h6 style="margin-bottom: 3px;margin-top: 10px;">Time <span class="mandatory">&nbsp;*</span></h6>
              <mat-form-field appearance="outline">
                <mat-select formControlName="timer">
                  <mat-option value="30">30 seconds</mat-option>
                  <mat-option value="45">45 seconds</mat-option>
                  <mat-option value="60">60 seconds</mat-option>
                  <mat-option value="90">90 seconds</mat-option>
                </mat-select>
              </mat-form-field>
              <div class="bupload">
                <label>Bulk Upload</label>
                <div class="file-drop-area">
                  <div class="file">
                    <button mat-raised-button color="primary" class="btn">Choose file <input
                        formControlName="image_link" (change)="onFileSelected($event)" accept=".xlsx, .xls"
                        class="file-input" type="file"></button>
                    <span class="file-msg">
                      <h6>Drag and Drop File Here</h6>
                    </span>
  
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th style="text-align: center">Question</th>
                  <th style="text-align: center">Options</th>
                </tr>
              </thead>
              <tbody formArrayName="questions">
                <tr *ngFor="let question of questions.controls; let i = index" class="test" [formGroupName]="i">
                  <td>
                    <div class="d-flex align-items-baseline">
                      <mat-checkbox formControlName="isSelected" style="width: 35px"></mat-checkbox>
                      Q{{ i + 1 }}.
                      <mat-form-field appearance="outline" style="width: 100%">
                        <input matInput type="text" formControlName="questionText" placeholder="Enter question" />
                      </mat-form-field>
                    </div>
                  </td>
                  <td formArrayName="options">
                    <div class="d-flex align-items-baseline">
                      <ng-container *ngFor="
                            let optionCtrl of getAnswers(i).controls;
                            let j = index
                          " [formGroupName]="j">
                        <mat-checkbox formControlName="correct" (change)="checkboxChange(i, j)"
                          style="width: 35px"></mat-checkbox>
                        <mat-form-field appearance="outline" style="width: 175px">
                          <input matInput type="text" formControlName="text" placeholder="Enter option" />
                        </mat-form-field>
                      </ng-container>
                      <button mat-icon-button class="p-1" (click)="deleteQuestion(i)" type="button">
                        <mat-icon style="color: black; font-size: 24px; width: 25px">delete</mat-icon>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="text-align: center; margin-top: 20px">
            <button mat-icon-button (click)="addAdditionalQuestion()" type="button">
              <mat-icon style="color: black; font-size: 24px">add</mat-icon>
            </button>
          </div>
        </form>
      </div>
      <div class="row body">
        <div class="col-md-10">
          <button mat-raised-button id="back" [routerLink]="['/student/settings/all-questions']">
            Back
          </button>
        </div>

        <div class="col-md-2">
          <button *ngIf="!editUrl" class="btn-space" mat-raised-button color="primary" type="submit" id="submit"
            (click)="save()">
            Save
          </button>

          <button *ngIf="editUrl" class="btn-space" mat-raised-button color="primary" type="submit" (click)="update()">
            Update
          </button>
        </div>
      </div>
    </div>
  </div>
</div>